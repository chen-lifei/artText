<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .draggable {
            position: relative;
            display: inline-block;
            margin-right: 30px;
            width: 200px;
            height: 200px;
            background: plum;
        }
        .inner {
            position:absolute;
            width: 100%;
            height: 100%;
            background-color: pink;
            z-index: 10;
        }
    </style>
</head>

<body">
    <div id="app">
        <div class="draggable">
            <div class="inner"  data-drag="true"></div>
        </div>
        <div class="draggable">
            <div class="inner" data-drag="true"></div>
        </div>
        <div class="draggable">
            <div class="inner" data-drag="true"></div>
        </div>
    </div>

    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

    <script>
        let dragging;
        let tLeft, tTop;
        document.addEventListener('mousedown', (event) => {
            console.log('start', event.target.hasAttribute('data-drag'));
            
            if (event.target.hasAttribute('data-drag')) {
                dragging = event.target;
                console.log(dragging);
                console.log(event.clientX, event.clientY);
                // let moveElemRect = dragging.getBoundingClientRect();
                tLeft = event.clientX;
                tTop = event.clientY;
                console.log(tLeft, tTop);
            }
            /* if (this.isBatching) {
                event.target.classList.add('multiple_drag_start');
                setTimeout(() => {
                    this.selectListId.forEach(item => {
                        $(`.project-card[data-id=${item}] .project-grid-container`).addClass('drag');
                    });
                }, 0);
            } */
        }, false);

        document.addEventListener('mouseup', (event) => {
            console.log('end');
            dragging.style.left = 0;
            dragging.style.top = 0;
            dragging = null;
            /* setTimeout(() => {
                event.target.classList.remove('drag_start');
                event.target.classList.remove('drag');
                $(dragged).css({
                    position: 'relative',
                    left: 0,
                    top: 0
                });
                if (this.isBatching) {
                    event.target.classList.remove('multiple_drag_start');
                    this.selectListId.forEach(item => {
                        $(`.project-card[data-id=${item}] .project-grid-container`).removeClass('drag');
                    });
                }
                if (folderNode && folderNode.length) folderNode.get(0).classList.remove('enter-folder');
            }, 20); */
        }, false);

        document.addEventListener('mousemove', (event) => {
            event.preventDefault();
            if (dragging) {
                var moveX = event.clientX - tLeft,
                    moveY = event.clientY - tTop;
                console.log(moveX);
                dragging.style.left = moveX + 'px';
                dragging.style.top = moveY + 'px';
            }
        }, false);

        document.addEventListener('mouseenter', (event) => {
            event.preventDefault();
        }, false);

        document.addEventListener('dragover', (event) => {
            console.log('dragover');
        });

        /* document.addEventListener('drop', (event) => {
            console.log('drop');
            event.preventDefault();
            // 将拖动的元素放到所选择的可放置目标节点中
            folderNode = $(event.target).parents('.folder');

            if (folderNode.length) {
                let data;
                let targetCardNode = folderNode.parents('.project-card').get(0);
                let dragCardNode = $(dragged).parents('.project-card').get(0);

                data = {
                    targetId: targetCardNode.getAttribute('data-id'),
                    dragId: dragCardNode.getAttribute('data-id'),
                    isFolder: dragCardNode.getAttribute('data-folder')
                };
                this.move(data);
            }
        }, false); */
    </script>
    </body>

</html>